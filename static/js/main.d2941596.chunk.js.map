{"version":3,"sources":["styles/Footer.module.scss","styles/Error.module.scss","styles/Gallery.module.scss","styles/App.module.scss","styles/Loader.module.scss","styles/GalleryCard.module.scss","api/api.js","components/Popup.jsx","components/GalleryCard.jsx","components/Selector.jsx","components/Loader.jsx","components/Gallery.jsx","components/Header.jsx","components/Footer.jsx","components/Error.jsx","App.js","index.js","styles/Popup.module.scss","styles/Selector.module.scss","styles/Header.module.scss"],"names":["module","exports","axios","create","baseURL","responseType","Popup","isActive","setActive","children","className","styles","popup","onClick","popup__body","popup__content","e","stopPropagation","popup__close","onKeyDown","keyCode","tabIndex","ImageCard","id","useState","description","setDescription","useEffect","information","API","get","then","res","imageSmallSize","data","primaryImageSmall","imageFullSize","primaryImage","author","artistDisplayName","title","wiki","artistWikidata_URL","objectBeginDate","objectEndDate","years","tags","map","el","term","gallery__card","src","alt","popup__image","popup__content__title","popup__content__author","popup__content__years","popup__content__url","href","target","rel","tag","i","popup__content__tag","Object","keys","some","popup__content__info","Selector","departments","selected","setDepartment","setRefresh","selector","selector__select","value","onChange","departmentId","displayName","selector__button","Loader","loader","Gallery","idsList","currentDepartment","setCurrentDepartment","currentIDsList","setCurrentIDsList","refresh","promiseInProgress","usePromiseTracker","length","ids","randomIndex","Math","floor","random","push","setRandomIDsList","main","dep","gallery","GalleryCard","Header","header","header__logo","header__title","Footer","footer","footer__year","footer__link","Error","error","error__message","App","setDepartments","listIDsByCategory","setlistIDsByCategory","isError","setIsError","promises","trackPromise","forEach","params","hasImages","q","all","config","objectIDs","catch","wrapper","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d2941596.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__88hCD\",\"footer__year\":\"Footer_footer__year__3CGNT\",\"footer__link\":\"Footer_footer__link__U5Kzo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Error_main__1q5Sp\",\"error\":\"Error_error__1oj8V\",\"error__message\":\"Error_error__message__1MStf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Gallery_main__1wIMm\",\"gallery\":\"Gallery_gallery__pdsik\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__1GPUy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1EFvh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery__card\":\"GalleryCard_gallery__card__2weRx\",\"popup__content__image\":\"GalleryCard_popup__content__image__2SEhg\",\"popup__content__title\":\"GalleryCard_popup__content__title__3syOC\",\"popup__content__author\":\"GalleryCard_popup__content__author__aO180\",\"popup__content__info\":\"GalleryCard_popup__content__info__3eJIf\",\"popup__content__years\":\"GalleryCard_popup__content__years__Aqs5y\",\"popup__content__tag\":\"GalleryCard_popup__content__tag__jDKh6\"};","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n    baseURL: \"https://collectionapi.metmuseum.org/public/collection/v1\",\r\n    responseType: \"json\"\r\n});","import styles from \"../styles/Popup.module.scss\";\r\n\r\nfunction Popup({ isActive, setActive, children }) {\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.keyCode === 13) {\r\n            setActive(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        isActive &&\r\n        <div className={styles.popup} onClick={() => setActive(false)}>\r\n            <div className={styles.popup__body}>\r\n                <div className={styles.popup__content} onClick={e => e.stopPropagation()}>\r\n                    <span\r\n                        className={styles.popup__close}\r\n                        onClick={() => setActive(false)}\r\n                        onKeyDown={handleKeyPress}\r\n                        tabIndex={3}\r\n                    >\r\n                        ×\r\n                    </span>\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Popup;","import { useEffect, useState } from \"react\";\r\nimport API from \"../api/api\";\r\nimport styles from \"../styles/GalleryCard.module.scss\";\r\nimport Popup from \"./Popup\";\r\n\r\nconst ImageCard = ({ id }) => {\r\n    const [description, setDescription] = useState({});\r\n    const [isActive, setActive] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let information = {};\r\n        API.get(`/objects/${id}`)\r\n            .then(res => {\r\n                information.imageSmallSize = res.data.primaryImageSmall;\r\n                information.imageFullSize = res.data.primaryImage;\r\n                information.author = res.data.artistDisplayName;\r\n                information.title = res.data.title;\r\n                information.wiki = res.data.artistWikidata_URL;\r\n                if (res.data.objectBeginDate !== res.data.objectEndDate) {\r\n                    information.years = `${res.data.objectBeginDate} — ${res.data.objectEndDate}`;\r\n                }\r\n                else {\r\n                    information.years = res.data.objectBeginDate;\r\n                }\r\n                res.data.tags && (information.tags = res.data.tags.map(el => el.term));\r\n                setDescription(information);\r\n            })\r\n    }, [id])\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.keyCode === 13) {\r\n            setActive(true);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <img\r\n                className={styles.gallery__card}\r\n                src={description.imageSmallSize}\r\n                alt={description.title}\r\n                onClick={() => setActive(true)}\r\n                onKeyDown={handleKeyPress}\r\n                tabIndex={3}\r\n            >\r\n            </img>\r\n\r\n            <Popup isActive={isActive} setActive={setActive}>\r\n                <img className={styles.popup__image} src={description.imageSmallSize} alt={description.title}></img>\r\n                {\r\n                    description.title &&\r\n                    <p className={styles.popup__content__title}>{description.title}</p>\r\n                }\r\n                {\r\n                    description.author &&\r\n                    <p className={styles.popup__content__author}>{description.author}</p>\r\n                }\r\n                {\r\n                    description.years &&\r\n                    <p className={styles.popup__content__years}>{description.years}</p>\r\n                }\r\n                {\r\n                    description.wiki &&\r\n                    <p>\r\n                        <a\r\n                            className={styles.popup__content__url}\r\n                            href={description.wiki}\r\n                            target=\"_blank\"\r\n                            rel=\"noreferrer\"\r\n                        >\r\n                            Wikidata Page\r\n                        </a>\r\n                    </p>\r\n                }\r\n                {\r\n                    description.imageFullSize &&\r\n                    <p>\r\n                        <a\r\n                            className={styles.popup__content__url}\r\n                            href={description.imageFullSize}\r\n                            target=\"_blank\"\r\n                            rel=\"noreferrer\"\r\n                        >\r\n                            Full size\r\n                        </a>\r\n                    </p>\r\n                }\r\n                {\r\n                    description.tags &&\r\n                    description.tags.map((tag, i) => <span className={styles.popup__content__tag} key={i}>{tag}</span>)\r\n                }\r\n                {\r\n                    Object.keys(description).some(el => description[el])\r\n                        ? null\r\n                        : <p className={styles.popup__content__info}>No information about this item</p>\r\n                }\r\n            </Popup>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default ImageCard;","import styles from \"../styles/Selector.module.scss\";\r\n\r\n\r\nconst Selector = ({ departments, selected, setDepartment, setRefresh }) => {\r\n    return (\r\n        <div className={styles.selector}>\r\n            <select\r\n                className={styles.selector__select}\r\n                value={selected}\r\n                onChange={e => setDepartment(e.target.value)}\r\n                tabIndex={2}\r\n            >\r\n                {\r\n                    departments.map((el, i) => <option key={i} value={el.departmentId}>{el.displayName}</option>)\r\n                }\r\n            </select>\r\n            <button className={styles.selector__button} onClick={setRefresh} tabIndex={1}>Refresh</button>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Selector;","import styles from \"../styles/Loader.module.scss\";\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className={styles.loader}>\r\n            <div />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader;","import { useEffect, useState } from \"react\";\r\nimport styles from \"../styles/Gallery.module.scss\";\r\nimport GalleryCard from \"./GalleryCard\";\r\nimport Selector from \"./Selector\";\r\n\r\nimport { usePromiseTracker } from 'react-promise-tracker';\r\nimport Loader from \"./Loader\";\r\n\r\nconst Gallery = ({ idsList, departments }) => {\r\n    const [currentDepartment, setCurrentDepartment] = useState(19); //id: 19 --- Photographs\r\n    const [currentIDsList, setCurrentIDsList] = useState([]);\r\n    const [refresh, setRefresh] = useState(false);\r\n\r\n    const { promiseInProgress } = usePromiseTracker();\r\n\r\n    useEffect(() => {\r\n\r\n        const limit = 6;\r\n\r\n        const setRandomIDsList = () => {\r\n            let ids = [];\r\n            if (idsList && idsList[currentDepartment]) {\r\n                for (let i = 0; i < limit; i++) {\r\n                    let randomIndex = Math.floor(Math.random() * idsList[currentDepartment].length)\r\n                    ids.push(idsList[currentDepartment][randomIndex]);\r\n                }\r\n                setCurrentIDsList(ids);\r\n            }\r\n        }\r\n\r\n        if (!currentIDsList.length || refresh) {\r\n            setRandomIDsList();\r\n            setRefresh(false);\r\n        }\r\n\r\n    }, [currentDepartment, idsList, refresh, currentIDsList])\r\n\r\n    const handleRefresh = () => {\r\n        setRefresh(true);\r\n    }\r\n\r\n    const handleSetNewDepartment = (dep) => {\r\n        setCurrentDepartment(dep);\r\n        setRefresh(true);\r\n    }\r\n\r\n    return (\r\n\r\n        <div className={styles.main}>\r\n            {\r\n                promiseInProgress\r\n                    ? <Loader />\r\n                    : <>\r\n                        <Selector\r\n                            departments={departments}\r\n                            selected={currentDepartment}\r\n                            setDepartment={handleSetNewDepartment}\r\n                            setRefresh={handleRefresh}\r\n                        />\r\n\r\n                        <div className={styles.gallery}>\r\n                            {\r\n                                currentIDsList.map((id, i) => <GalleryCard id={id} key={i} />)\r\n                            }\r\n                        </div>\r\n                    </>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Gallery;","import styles from \"../styles/Header.module.scss\";\r\n\r\nconst Header = () => {\r\n    return (\r\n        <div className={styles.header}>\r\n            <div className={styles.header__logo}>\r\n                <a href=\"https://github.com/Nokkup/art-gallery\" tabIndex={-1}>\r\n                    <img src=\"logo.svg\" alt=\"logo\" />\r\n                </a>\r\n            </div>\r\n            <h1 className={styles.header__title}>The Metropolitan Museum of Art Collection</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import styles from \"../styles/Footer.module.scss\";\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <div className={styles.footer}>\r\n            <span className={styles.footer__year}>2021</span>\r\n            <a className={styles.footer__link} href=\"https://github.com/Nokkup/art-gallery\">Github link</a>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react'\r\nimport styles from \"../styles/Error.module.scss\";\r\n\r\nconst Error = () => {\r\n    return (\r\n        <div className={styles.main}>\r\n            <div className={styles.error}>\r\n                <p className={styles.error__message}>:( Ooops, something went wrong</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error;","import { useState, useEffect } from \"react\";\nimport { trackPromise } from 'react-promise-tracker';\nimport axios from \"axios\";\nimport API from \"./api/api\";\nimport styles from \"./styles/App.module.scss\";\nimport Gallery from \"./components/Gallery\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Error from \"./components/Error\";\n\nconst App = () => {\n  const [departments, setDepartments] = useState([]);\n  const [listIDsByCategory, setlistIDsByCategory] = useState({});\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n\n    let ids = {};\n    let promises = [];\n\n    trackPromise(\n      API.get(`/departments`)\n        .then(res => {\n          setDepartments(res.data.departments);\n          return res.data.departments;\n        })\n        .then(res => {\n          res.forEach(el => {\n            promises.push(API.get(\"/search\", {\n              params:\n              {\n                departmentId: el.departmentId,\n                hasImages: true,\n                q: \"art\"\n              }\n            }))\n          })\n          trackPromise(\n            axios.all(promises)\n              .then(res => {\n                res.forEach(el => ids[el.config.params.departmentId] = el.data.objectIDs);\n                setlistIDsByCategory(ids);\n              })\n          )\n        })\n    )\n      .catch(() => {\n        setIsError(true);\n      })\n\n  }, [])\n\n  return (\n    <div className={styles.wrapper}>\n      <Header />\n      {\n        isError\n          ? <Error />\n          : <Gallery idsList={listIDsByCategory} departments={departments} />\n      }\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"Popup_popup__38F1p\",\"popup__body\":\"Popup_popup__body__2Wt9I\",\"popup__content\":\"Popup_popup__content__3rEjS\",\"popup__close\":\"Popup_popup__close__1dwSW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selector\":\"Selector_selector__NbqT8\",\"selector__button\":\"Selector_selector__button__3SbyJ\",\"selector__select\":\"Selector_selector__select__2G-yM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__uy9FP\",\"header__title\":\"Header_header__title__2qIZ0\",\"header__logo\":\"Header_header__logo__3kh4u\"};"],"sourceRoot":""}