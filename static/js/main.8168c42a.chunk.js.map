{"version":3,"sources":["styles/Error.module.scss","styles/Gallery.module.scss","styles/App.module.scss","styles/Loader.module.scss","styles/GalleryCard.module.scss","styles/Popup.module.scss","api/api.js","components/Popup.jsx","components/GalleryCard.jsx","components/Selector.jsx","components/Loader.jsx","components/Gallery.jsx","components/Header.jsx","components/Footer.jsx","components/Error.jsx","App.js","index.js","styles/Selector.module.scss","styles/Header.module.scss","styles/Footer.module.scss"],"names":["module","exports","axios","create","baseURL","responseType","Popup","isActive","setActive","children","className","styles","popup","onClick","popup__body","popup__content","e","stopPropagation","popup__close","onKeyDown","keyCode","tabIndex","GalleryCard","id","useState","description","setDescription","useEffect","information","API","get","then","res","imageSmallSize","data","primaryImageSmall","imageFullSize","primaryImage","author","artistDisplayName","title","wiki","artistWikidata_URL","objectBeginDate","objectEndDate","years","tags","map","el","term","gallery__card","src","alt","gallery__popup__card","gallery__popup__image","gallery__popup__title","gallery__popup__author","gallery__popup__years","gallery__popup__url","href","target","rel","tag","i","gallery__popup__tag","Selector","departments","selected","setDepartment","setRefresh","selector","selector__select","value","onChange","departmentId","displayName","selector__button","Loader","loader","Gallery","idsList","currentDepartment","setCurrentDepartment","currentIDsList","setCurrentIDsList","refresh","promiseInProgress","usePromiseTracker","length","ids","randomIndex","Math","floor","random","push","setRandomIDsList","main","newDep","gallery","Header","header","header__logo","header__title","Footer","footer","footer__year","footer__link","Error","error","error__message","App","setDepartments","listIDsByCategory","setlistIDsByCategory","isError","setIsError","trackPromise","defaultCategoryId","forEach","params","hasImages","q","config","objectIDs","otherRes","filter","setTimeout","catch","wrapper","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8168c42a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Error_main__3hNM0\",\"error\":\"Error_error__3RJ5W\",\"error__message\":\"Error_error__message__PGQd2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Gallery_main__1I2Ja\",\"gallery\":\"Gallery_gallery__3Rfk1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__EjGk6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1Ugvn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery__card\":\"GalleryCard_gallery__card__3Esif\",\"gallery__popup__card\":\"GalleryCard_gallery__popup__card__2h9pj\",\"gallery__popup__image\":\"GalleryCard_gallery__popup__image__SwVyy\",\"gallery__popup__title\":\"GalleryCard_gallery__popup__title__5xbGp\",\"gallery__popup__author\":\"GalleryCard_gallery__popup__author__1Oac2\",\"gallery__popup__info\":\"GalleryCard_gallery__popup__info__3d6iG\",\"gallery__popup__years\":\"GalleryCard_gallery__popup__years__1DFJ4\",\"gallery__popup__tag\":\"GalleryCard_gallery__popup__tag__2_9TW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"Popup_popup__3-IPG\",\"popup__body\":\"Popup_popup__body__3qIno\",\"popup__content\":\"Popup_popup__content__3NLmC\",\"popup__close\":\"Popup_popup__close__30UTm\"};","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n    baseURL: \"https://collectionapi.metmuseum.org/public/collection/v1\",\r\n    responseType: \"json\"\r\n});","import styles from \"../styles/Popup.module.scss\";\r\n\r\nconst Popup = ({ isActive, setActive, children }) => {\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.keyCode === 13) {\r\n            setActive(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        isActive &&\r\n        <div className={styles.popup} onClick={() => setActive(false)}>\r\n            <div className={styles.popup__body}>\r\n                <div className={styles.popup__content} onClick={e => e.stopPropagation()}>\r\n                    <span\r\n                        className={styles.popup__close}\r\n                        onClick={() => setActive(false)}\r\n                        onKeyDown={handleKeyPress}\r\n                        tabIndex={3}\r\n                    >\r\n                        Ã—\r\n                    </span>\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Popup;","import { useEffect, useState } from \"react\";\r\nimport API from \"../api/api\";\r\nimport styles from \"../styles/GalleryCard.module.scss\";\r\nimport Popup from \"./Popup\";\r\n\r\nconst GalleryCard = ({ id }) => {\r\n    const [description, setDescription] = useState({});\r\n    const [isActive, setActive] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let information = {};\r\n        API.get(`/objects/${id}`)\r\n            .then(res => {\r\n                information.imageSmallSize = res.data.primaryImageSmall;\r\n                information.imageFullSize = res.data.primaryImage;\r\n                information.author = res.data.artistDisplayName;\r\n                information.title = res.data.title;\r\n                information.wiki = res.data.artistWikidata_URL;\r\n                \r\n                if (res.data.objectBeginDate !== res.data.objectEndDate) {\r\n                    information.years = `${res.data.objectBeginDate} â€” ${res.data.objectEndDate}`;\r\n                }\r\n                else {\r\n                    information.years = res.data.objectBeginDate;\r\n                }\r\n                information.tags = res.data.tags?.map(el => el.term) || [];\r\n                setDescription(information);\r\n            })\r\n    }, [id])\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.keyCode === 13) {\r\n            setActive(true);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <img\r\n                className={styles.gallery__card}\r\n                src={description.imageSmallSize}\r\n                alt={description.title}\r\n                onClick={() => setActive(true)}\r\n                onKeyDown={handleKeyPress}\r\n                tabIndex={3}\r\n            >\r\n            </img>\r\n\r\n            <Popup isActive={isActive} setActive={setActive}>\r\n                <div className={styles.gallery__popup__card}>\r\n                <figure>\r\n                    <img \r\n                        className={styles.gallery__popup__image} \r\n                        src={description.imageSmallSize} \r\n                        alt={description.title} \r\n                    />\r\n                    <figcaption>\r\n                        <p className={styles.gallery__popup__title}>{description.title || \"unknown\"}</p>\r\n                        <p className={styles.gallery__popup__author}>{description.author || \"unknown\"}</p>\r\n                        <p className={styles.gallery__popup__years}>{description.years || \"undated\"}</p>\r\n                    </figcaption>\r\n                {\r\n                    description.wiki &&\r\n                    <p>\r\n                        <a\r\n                            className={styles.gallery__popup__url}\r\n                            href={description.wiki}\r\n                            target=\"_blank\"\r\n                            rel=\"noreferrer\"\r\n                        >\r\n                            Wiki Page\r\n                        </a>\r\n                    </p>\r\n                }\r\n                {\r\n                    description.imageFullSize &&\r\n                    <p>\r\n                        <a\r\n                            className={styles.gallery__popup__url}\r\n                            href={description.imageFullSize}\r\n                            target=\"_blank\"\r\n                            rel=\"noreferrer\"\r\n                        >\r\n                            Full size\r\n                        </a>\r\n                    </p>\r\n                }\r\n                {\r\n                    description.tags &&\r\n                    description.tags.map((tag, i) => <span className={styles.gallery__popup__tag} key={i}>{tag}</span>)\r\n                }\r\n                </figure>\r\n                </div>\r\n            </Popup>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default GalleryCard;","import styles from \"../styles/Selector.module.scss\";\r\n\r\n\r\nconst Selector = ({ departments, selected, setDepartment, setRefresh }) => {\r\n    return (\r\n        <div className={styles.selector}>\r\n            <select\r\n                className={styles.selector__select}\r\n                value={selected}\r\n                onChange={e => setDepartment(e.target.value)}\r\n                tabIndex={2}\r\n            >\r\n                {\r\n                    departments.map((el, i) => <option key={i} value={el.departmentId}>{el.displayName}</option>)\r\n                }\r\n            </select>\r\n            <button className={styles.selector__button} onClick={setRefresh} tabIndex={1}>Refresh</button>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Selector;","import styles from \"../styles/Loader.module.scss\";\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className={styles.loader}>\r\n            <div />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader;","import { useEffect, useState } from \"react\";\r\nimport styles from \"../styles/Gallery.module.scss\";\r\nimport GalleryCard from \"./GalleryCard\";\r\nimport Selector from \"./Selector\";\r\n\r\nimport { usePromiseTracker } from 'react-promise-tracker';\r\nimport Loader from \"./Loader\";\r\n\r\nconst Gallery = ({ idsList, departments }) => {\r\n    const [currentDepartment, setCurrentDepartment] = useState(19); //id: 19 --- Photographs\r\n    const [currentIDsList, setCurrentIDsList] = useState([]);\r\n    const [refresh, setRefresh] = useState(false);\r\n\r\n    const { promiseInProgress } = usePromiseTracker();\r\n\r\n    useEffect(() => {\r\n\r\n        const limit = 6;\r\n\r\n        const setRandomIDsList = () => {\r\n            let ids = [];\r\n            if (idsList && idsList[currentDepartment]) {\r\n                for (let i = 0; i < limit; i++) {\r\n                    let randomIndex = Math.floor(Math.random() * idsList[currentDepartment].length)\r\n                    ids.push(idsList[currentDepartment][randomIndex]);\r\n                }\r\n                setCurrentIDsList(ids);\r\n            }\r\n        }\r\n\r\n        if (!currentIDsList.length || refresh) {\r\n            setRandomIDsList();\r\n            setRefresh(false);\r\n        }\r\n\r\n    }, [currentDepartment, idsList, refresh, currentIDsList])\r\n\r\n    const handleRefresh = () => {\r\n        setRefresh(true);\r\n    }\r\n\r\n    const handleSetNewDepartment = (newDep) => {\r\n        setCurrentDepartment(newDep);\r\n        setRefresh(true);\r\n    }\r\n\r\n    return (\r\n\r\n        <div className={styles.main}>\r\n            {\r\n                promiseInProgress\r\n                    ? <Loader />\r\n                    : <>\r\n                        <Selector\r\n                            departments={departments}\r\n                            selected={currentDepartment}\r\n                            setDepartment={handleSetNewDepartment}\r\n                            setRefresh={handleRefresh}\r\n                        />\r\n\r\n                        <div className={styles.gallery}>\r\n                            {\r\n                                currentIDsList.map((id, i) => <GalleryCard id={id} key={i} />)\r\n                            }\r\n                        </div>\r\n                    </>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Gallery;","import styles from \"../styles/Header.module.scss\";\r\n\r\nconst Header = () => {\r\n    return (\r\n        <div className={styles.header}>\r\n            <div className={styles.header__logo}>\r\n                <a href=\"https://github.com/Nokkup/art-gallery\" tabIndex={-1}>\r\n                    <img src=\"logo.svg\" alt=\"logo\" />\r\n                </a>\r\n            </div>\r\n            <h1 className={styles.header__title}>The Metropolitan Museum of Art Collection</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import styles from \"../styles/Footer.module.scss\";\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <div className={styles.footer}>\r\n            <span className={styles.footer__year}>2021</span>\r\n            <a className={styles.footer__link} href=\"https://github.com/Nokkup/art-gallery\">Github link</a>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react'\r\nimport styles from \"../styles/Error.module.scss\";\r\n\r\nconst Error = () => {\r\n    return (\r\n        <div className={styles.main}>\r\n            <div className={styles.error}>\r\n                <p className={styles.error__message}>:( Ooops, something went wrong</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error;","import { useState, useEffect } from \"react\";\nimport { trackPromise } from 'react-promise-tracker';\nimport API from \"./api/api\";\nimport styles from \"./styles/App.module.scss\";\nimport Gallery from \"./components/Gallery\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Error from \"./components/Error\";\n\nconst App = () => {\n  const [departments, setDepartments] = useState([]);\n  const [listIDsByCategory, setlistIDsByCategory] = useState({});\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n\n    let ids = {};\n\n    trackPromise(\n    API.get(`/departments`)\n        .then(res => {\n            setDepartments(res.data.departments);\n            return res.data.departments;\n        })\n        .then(res => {\n            let defaultCategoryId = 0;\n\n            res.forEach(el => {\n                if(el.displayName === \"Photographs\"){\n                    defaultCategoryId = el.departmentId;\n                }\n            })\n\n            API.get(\"/search\", { params: { departmentId: defaultCategoryId, hasImages: true, q: \"art\"}})\n                .then(res => {\n                    ids[res.config.params.departmentId] = res.data.objectIDs;\n                    setlistIDsByCategory(ids);\n                })\n            \n            const otherRes = res.filter(el => el.departmentId !== defaultCategoryId);\n\n            const loadOtherRes = otherRes => {\n                otherRes.forEach(el => {\n                    API.get(\"/search\", { params: { departmentId: el.departmentId, hasImages: true, q: \"art\"}})\n                    .then(res => {\n                        ids[res.config.params.departmentId] = res.data.objectIDs;\n                        setlistIDsByCategory(ids);\n                    })\n                })\n            }\n\n            setTimeout(loadOtherRes, 3000, otherRes);\n        }))\n        .catch(() => {\n            setIsError(true);\n        })\n\n  }, [])\n\n  return (\n    <div className={styles.wrapper}>\n      <Header />\n      {\n        isError\n          ? <Error />\n          : <Gallery idsList={listIDsByCategory} departments={departments} />\n      }\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selector\":\"Selector_selector__2Zwm_\",\"selector__button\":\"Selector_selector__button__2mAYM\",\"selector__select\":\"Selector_selector__select__M5c9U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__PBxuQ\",\"header__title\":\"Header_header__title__oL0Rd\",\"header__logo\":\"Header_header__logo__DnxbJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__3ZPh2\",\"footer__year\":\"Footer_footer__year__O3EPd\",\"footer__link\":\"Footer_footer__link__2dl4l\"};"],"sourceRoot":""}